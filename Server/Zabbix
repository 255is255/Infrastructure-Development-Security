# ZABBIX 서버 구현
# Linux Version : CentOS 9.0
# Zabbix Version : 7.0.7

useradd zabbix
groupadd zabbix
usermod zabbix -G zabbix

# /etc/yum.repos.d/epel.repo
[epel]
...
excludepkgs=zabbix*
Proceed with installing zabbix repository.

# 패키지 설치
rpm -Uvh https://repo.zabbix.com/zabbix/7.0/centos/9/x86_64/zabbix-release-latest-7.0.el9.noarch.rpm
dnf clean all

# Zabbix 서버 설치
dnf install zabbix-server-mysql zabbix-web-mysql zabbix-apache-conf zabbix-sql-scripts zabbix-selinux-policy zabbix-agent

# DB 셋팅
mysql -uroot -p
  password
  mysql> create database zabbix character set utf8mb4 collate utf8mb4_bin;
  mysql> create user zabbix@localhost identified by 'password';
  mysql> grant all privileges on zabbix.* to zabbix@localhost;
  mysql> set global log_bin_trust_function_creators = 1;
  mysql> quit;

zcat /usr/share/zabbix-sql-scripts/mysql/server.sql.gz | mysql --default-character-set=utf8mb4 -uzabbix -p zabbix

mysql -uroot -p
password #패스워드 입력
  mysql> set global log_bin_trust_function_creators = 0;
  mysql> quit;

#/etc/zabbix/zabbix_server.conf 수정
DBPassword=password

#시스템 재시작
systemctl restart zabbix-server zabbix-agent httpd php-fpm
systemctl enable zabbix-server zabbix-agent httpd php-fpm
